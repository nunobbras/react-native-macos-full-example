"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function (key) {
    return {
        load: function load() {
            var jsonState = localStorage.getItem(key);
            return Promise.resolve(JSON.parse(jsonState) || {});
        },
        save: function save(state) {
            var jsonState = JSON.stringify(state);
            localStorage.setItem(key, jsonState);
            return Promise.resolve();
        }
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lbmdpbmVzL2xvY2FsU3RvcmFnZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7a0JBQWUsVUFBQyxHQUFEO1dBQVU7QUFDckIsOEJBQU87QUFDSCxnQkFBTSxZQUFZLGFBQWEsT0FBYixDQUFxQixHQUFyQixDQUFaLENBREg7QUFFSCxtQkFBTyxRQUFRLE9BQVIsQ0FBZ0IsS0FBSyxLQUFMLENBQVcsU0FBWCxLQUF5QixFQUF6QixDQUF2QixDQUZHO1NBRGM7QUFNckIsNEJBQUssT0FBTztBQUNSLGdCQUFNLFlBQVksS0FBSyxTQUFMLENBQWUsS0FBZixDQUFaLENBREU7QUFFUix5QkFBYSxPQUFiLENBQXFCLEdBQXJCLEVBQTBCLFNBQTFCLEVBRlE7QUFHUixtQkFBTyxRQUFRLE9BQVIsRUFBUCxDQUhRO1NBTlM7O0NBQVYiLCJmaWxlIjoibG9jYWxTdG9yYWdlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgKGtleSkgPT4gKHtcbiAgICBsb2FkKCkge1xuICAgICAgICBjb25zdCBqc29uU3RhdGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKEpTT04ucGFyc2UoanNvblN0YXRlKSB8fCB7fSk7XG4gICAgfSxcblxuICAgIHNhdmUoc3RhdGUpIHtcbiAgICAgICAgY29uc3QganNvblN0YXRlID0gSlNPTi5zdHJpbmdpZnkoc3RhdGUpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIGpzb25TdGF0ZSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59KTtcbiJdfQ==